name: Manual Workflow

on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Your name'
        required: true
      age:
        description: 'Your age'
        required: false

jobs:
  greet:
    runs-on: ubuntu-latest
    outputs:
      greetings: ${{ steps.greet.outputs.greetings }}
    steps:
      - name: Greet
        id: greet
        run: |
          greetings="Hello, ${{ github.event.inputs.name }}! You are ${{ github.event.inputs.age }} years old."
          echo "::set-output name=greetings::$greetings"

  after-greet:
    needs: greet
    runs-on: ubuntu-latest
    steps:
      - name: After greet
        env:
          GREETINGS: ${{ needs.greet.outputs.greetings }}
        run: echo "$GREETINGS greeting you again"
